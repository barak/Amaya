From: Regis Boudin <regis@debian.org>
Date: Thu, 16 Jan 2014 11:09:26 +0000
Subject: cflags_cleanup

Stop forcing the CFLAGS and CXXFLAGS in configure, let autotools set
a sensible default and the user force them if he wants
---
 configure.in | 19 ++-----------------
 1 file changed, 2 insertions(+), 17 deletions(-)

diff --git a/configure.in b/configure.in
index ddc110f..1dcc1c7 100644
--- a/configure.in
+++ b/configure.in
@@ -473,18 +473,8 @@ CEXTRACT_FLAGS="+O"
 
 # Check if debug is enable
 AC_ARG_WITH(debug,              [  --with-debug            compiles Amaya with debuging options (-g) ])
-if test "$with_debug" = "yes" ; then
-  with_debug="yes"
-  CFLAGS="-g"
-  CXXFLAGS="-g"
-else
-  with_debug="no"
-  CFLAGS="-O2"
-  CXXFLAGS="-O2"
-fi
 
 if test "${CC}" = "gcc" ; then
- CFLAGS="${CFLAGS} -Wall"
   case "${host}" in
       *-*-irix5* | *-*irix6* )
          CFLAGS="${CFLAGS} -fsigned-char"
@@ -496,13 +486,8 @@ if test "$ac_cv_c_const" = "no" ; then
   CFLAGS="${CFLAGS} -DCONST= "
 fi
 
-
-# force C mode (-x c)
-CFLAGS="${CFLAGS} -x c"
-
-# C++ options (-x c++)
-CXX_OPTIONS="-D__cplusplus"
-CXXFLAGS="${CXXFLAGS} -Wall -x c++ ${CXX_OPTIONS}"
+CFLAGS="${CFLAGS} -Wall"
+CXXFLAGS="${CXXFLAGS} -Wall"
 
 # setup LDFLAGS
 # on macosx, specific flags must be set to avoid conflicts with allready installed libwww
