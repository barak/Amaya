<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta name="GENERATOR" content="amaya 9.1, see http://www.w3.org/Amaya/" />
  <title>Saving and Publishing in Amaya</title>
  <style type="text/css">
  </style>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body xml:lang="en" lang="en">

<div>
<img alt="Amaya" src="../../resources/icons/22x22/logo.png" class="logo" />

<p class="nav"><a href="SpellChecking.html" accesskey="p"><img alt="previous"
src="../../resources/icons/misc/left.png" /></a> <a href="Manual.html"
accesskey="t"><img alt="top" src="../../resources/icons/misc/up.png" /></a>
<a href="WebDAV.html" accesskey="n"><img alt="next"
src="../../resources/icons/misc/right.png" /></a></p>
</div>

<div id="page_body">
<h2>Saving and Publishing Amaya</h2>

<p>Amaya enables you to save (X)HTML documents either in <span
class="Link0">(X)HTML</span> or <span class="Link0">text</span> format. Other
documents (SVG, MathML or CSS) are saved according to their original format.
You can save both remote and local documents in two ways, using the <span
class="Link0"><strong>Save</strong></span> and <span
class="Link0"><strong>Save As</strong></span> commands.</p>

<p>In addition, you can change a number of Amaya publishing options using the
<strong>Publishing Preferences</strong> dialog. You open this dialog by
choosing <span class="Link0"><strong>Preferences &gt;
Publishing</strong></span> from the <strong>Edit</strong> menu.</p>

<p>Amaya does not provide any global view of a set of pages installed on a
server. However, you can save files to a remote server in the same way you
save local files, using the <span class="Link"><strong>Save</strong></span>
and <span class="link"><strong>Save As</strong></span> commands. During these
operations, Amaya also saves any newly added images.</p>

<h3>The Save Command</h3>

<p>The <strong>Save</strong> command saves the current document to the
original location. You can access the <strong>Save</strong> command by
choosing <strong>Save</strong> from the <strong>File</strong> menu, clicking
the <strong>Save</strong> button on the button bar, or by using keyboard
shortcuts (<code>Ctrl-s</code> in Windows; <code>Ctrl-x,Ctrl-s</code> in
Unix). Newly added images are saved in the same directory automatically;
confirmation is only requested when the document name is unknown.</p>

<p>You can also fetch a document from servers by specifying the server
directory name. This is very useful when browsing, but is not supported by
the put method. In this case, Amaya detects that the document name is missing
and asks you either to use a default name or to complete the request.</p>

<p class="Note"><strong>Note</strong>:    <br />
Use the <strong>Save As</strong> command to save your document to a different
location.</p>

<h3>The Save As Command</h3>

<p>Choosing <strong>Save As</strong> from the <strong>File</strong> menu
opens the <strong>Save As</strong> dialog, where you can: save the document
as XML, HTML, or as a text file to a local disk or a remote URI; save
embedded images into the same document directory or a different location; and
transform embedded URIs.</p>

<h4>The Save As Dialog</h4>

<p>The items in the dialog box, from top to bottom, left to right are used as
follows:</p>
<ul>
  <li>The <strong>Document location</strong> field indicates where the file
    has to be written. This can be a file in the local file system (for
    example, <code>/pub/html/welcome.html</code>) or the name of a remote URI
    (for example, <code>http://www.w3.org/pub/WWW/Welcome.html</code>).
    <p class="Note"><strong>Note:   </strong><span xml:lang="EN" lang="EN"
    style="font-weight:normal">Use</span><strong><span></span></strong>a
    complete path for the URL. You should also make sure that you have the
    rights to do a <code>PUT</code>method if it is a remote location. Refer
    to the page on <a
    href="http://www.w3.org/Amaya/User/Put.html">configuring your server to
    accept the PUT method</a> or ask your Web administrator.</p>
  </li>
</ul>
<ul>
  <li>The <strong>Images directory</strong> field allows you to save images
    (if the <strong>Copy Images</strong> button has been selected) to a
    different place than the HTML file. This field should contain the name of
    a directory on the local file system or a location on the remote server.
    <ul>
      <li>Using a relative path, the images are stored at a location relative
        to the document directory. For example, if the document location is
        <code><a
        href="http://www.w3.org/pub/WWW/Welcome.html">http://www.w3.org/pub/WWW/Welcome.html</a><a
        href="http://www.w3.org/pub/WWW/Welcome.html"></a></code> and the
        images location is "Images", an image "W3C.png" contained in the
        document is stored at the URI <code><a
        href="http://www.w3.org/pub/WWW/Images/W3C.png">http://www.w3.org/pub/WWW/Images/W3C.png</a></code>
        and the HTML file is modified to reference it as:
        <p><code>&lt;img src="Images/W3C.png"&gt;</code></p>
        <p>This is similar in the case of a document location on the local
        file system.</p>
      </li>
      <li>Using an absolute path, the images are stored at this exact
        location, independently of the document location. In the previous
        example, if the specified images location is
        <code>http://pub/WWW/Images</code>, the image is stored at
        <code>http://www.w3.org/pub/WWW/Images/W3C.png</code> and the
        corresponding HTML file is modified in the following way:
        <p><code>&lt;img src="Images/W3C.png"&gt;</code></p>
      </li>
    </ul>
  </li>
</ul>
<ul>
  <li>The <strong>Document format</strong> offers a choice between
    <strong>HTML</strong>, <strong>XML</strong> (XHTML) and
    <strong>Text</strong> for HTML documents. This submenu is not shown when
    saving a SVG, a MathML, a CSS, or any other document type. By default,
    Amaya keeps the current document format. The entry <strong>Text</strong>
    removes the HTML mark-up and replaces it by spaces, newlines, and so
    on.<br />
  </li>
  <li>The <strong>Copy Images</strong> toggle indicates whether the images
    embedded in the current document must be copied along with the document
    to the new location. It's generally better to keep this switch on as
    otherwise you will not be sure that the corresponding images will be
    found when opening the document later. However, switching it off is
    useful when you have only changed the text of the document and the
    document is stored on the same server. When images are copied, Amaya will
    automatically update all <strong>SRC</strong> attributes to point new
    image locations. New locations will be relative URIs.<br />
  </li>
  <li>The <strong>Transform URIs</strong> toggle transforms all current URIs
    into relative URIs when possible. Of course, if the document is saved in
    a local file and URIs point to remote files, URIs will be absolute. This
    ensures that all the links in the document remain correct after the copy.
    However, if you have several document linked together with relative URIs
    and you plan to move them to a remote location, you must disable URI
    conversion to avoid referencing the initial locations.<br />
  </li>
  <li>The <strong>Charset</strong> field opens a dialog that enables you to
    change the charset of the document. This option only works with documents
    that support the notion of charset, such as HTML and XML ones. This
    option is available when saving both remote and local documents.
    <p></p>
  </li>
  <li>The <strong>Mime Type</strong> field opens a dialog where you can
    select the MIME type of the document. If the MIME type you're looking for
    is not listed, you can type it in yourself. This button is only active
    when saving a document to a server (local file systems don't store the
    MIME metadata information.).</li>
</ul>

<p>Four buttons complete this dialog:</p>
<ul>
  <li>The <strong>Save</strong> button starts the process of transforming the
    document. A dialog asks for confirmation in both of the following cases:
    <ul>
      <li>The document has to be saved on a remote server. Amaya displays the
        complete URI to be written to for verification.</li>
      <li>The document has to be saved locally and the file already
      exists.</li>
    </ul>
    <p>When saving to a remote location, check that the http_proxy is not
    set, or that the proxy server and the target server are configured to
    work with the PUT method.</p>
    <p>Amaya does not currently contact the remote server (in case of an
    http://... destination) to check whether such a document already
    exists<br />
    .<br />
    </p>
  </li>
  <li>The <strong>Browse</strong> button lets you select a local directory
    and file name:
    <ul>
      <li>The <strong>Document directories</strong> field shows the
        directories contained in the current directory. It should be used to
        save a file on the local file system.</li>
      <li>The <strong>Files</strong> field shows the files contained in the
        current local directory.</li>
    </ul>
  </li>
  <li>The <strong>Clear</strong> button removes the current contents of both
    the <strong>Document location</strong> field and the <strong>Images
    directory</strong> field.<br />
  </li>
  <li>The <strong>Cancel</strong> button terminates the command.</li>
</ul>

<h3>Saving Documents as Text</h3>

<p>You san save your document as text using the <strong>Save As</strong>
command from the <strong>File</strong> menu. HTML mark-up is replaced by
spaces, new lines, and so on. A list of all URIs used in the document is
appended to the file.</p>

<p class="ProcedureCaption">To save your document as text:</p>
<ol>
  <li>Choose <strong>Save As</strong> from the <strong>File</strong> menu to
    open the <strong>Save As</strong> dialog.
    <p></p>
  </li>
  <li>Click the <strong>Text</strong> button in the <strong>Document
    format</strong> section to save the document in text format to a local
    file.</li>
</ol>
</div>
</body>
</html>
